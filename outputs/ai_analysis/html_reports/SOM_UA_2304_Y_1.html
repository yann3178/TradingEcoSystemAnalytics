<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOM_UA_2304_Y_1 - Strategy Analysis</title>
    
    <style>
        :root {
            --primary: #3498db;
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
            --dark: #2c3e50;
            --light: #ecf0f1;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
        }
        
        .back-link:hover {
            text-decoration: underline;
        }
        
        h1 {
            color: var(--dark);
            border-bottom: 3px solid var(--primary);
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        h2 {
            color: #34495e;
            margin-top: 30px;
            margin-bottom: 15px;
            border-left: 4px solid var(--primary);
            padding-left: 15px;
        }
        
        .header-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .info-box {
            background: var(--light);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--primary);
        }
        
        .info-box strong {
            display: block;
            color: var(--dark);
            margin-bottom: 5px;
            font-size: 0.9em;
        }
        
        .badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            color: white;
            font-size: 0.85em;
            font-weight: 500;
        }
        
        .badge-yes {
            background: var(--success);
        }
        
        .badge-no {
            background: #95a5a6;
        }
        
        .score {
            font-size: 1.5em;
            font-weight: bold;
        }
        
        .score-high {
            color: var(--success);
        }
        
        .score-medium {
            color: var(--warning);
        }
        
        .score-low {
            color: var(--danger);
        }
        
        .section {
            margin: 25px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .analysis-list {
            margin: 10px 0 10px 20px;
        }
        
        .analysis-list li {
            margin: 8px 0;
        }
        
        .code-block {
            background: #282c34;
            color: #abb2bf;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.5;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .patterns-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 10px 0;
        }
        
        .pattern-tag {
            background: var(--light);
            padding: 5px 10px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.9em;
        }
        
        .links-section {
            margin-top: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
            color: white;
        }
        
        .links-section a {
            color: white;
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            .header-grid {
                grid-template-columns: 1fr;
            }
            
            body {
                padding: 10px;
            }
            
            .container {
                padding: 15px;
            }
        }
    </style>
    
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">‚Üê Retour √† la liste</a>
        
        <h1>üìä SOM_UA_2304_Y_1</h1>
        
        <div class="header-grid">
            <div class="info-box">
                <strong>Type</strong>
                <span class="badge" style="background-color: #7f8c8d">HYBRID</span>
            </div>
            <div class="info-box">
                <strong>Sous-type</strong>
                <span>Breakout_Reversal</span>
            </div>
            <div class="info-box">
                <strong>Score Qualit√©</strong>
                <span class="score score-high">7/10</span>
            </div>
            <div class="info-box">
                <strong>Score Complexit√©</strong>
                <span class="score score-high">8/10</span>
            </div>
        </div>
        
        <div class="section">
            <h2>üìù R√©sum√©</h2>
            <p>A <strong>dual-mode intraday strategy</strong> for NQ 30-minute bars that trades both <strong>reversal</strong> and <strong>trend-following</strong> signals based on moving average positioning. Uses <strong>session high/low levels</strong> as entry triggers with multiple pattern filters for trade qualification.</p>
        </div>
        
        <div class="section">
            <h2>üéØ Conditions d'Entr√©e</h2>
            <p><strong>LONG Entries:</strong>
‚Ä¢ Close &gt; 300-period moving average (var_mediaL)
‚Ä¢ No existing position and no trades today
‚Ä¢ Pattern conditions: PtnLY_ext=TRUE AND PtnLN_ext=FALSE AND PtnLY=TRUE AND PtnLN=FALSE
‚Ä¢ Two entry modes:
  - <strong>LR (Long Reversal):</strong> Buy at previous session low (lowd1) on limit
  - <strong>LT (Long Trend):</strong> Buy at previous session high (highd1) on stop

<strong>SHORT Entries:</strong>
‚Ä¢ Close &lt; 500-period moving average (var_mediaS)
‚Ä¢ No existing position and no trades today
‚Ä¢ Pattern conditions: PtnSY_ext=TRUE AND PtnSN_ext=FALSE AND PtnSY=TRUE AND PtnSN=FALSE
‚Ä¢ Two entry modes:
  - <strong>SR (Short Reversal):</strong> Sell at previous session high (highd1) on limit
  - <strong>ST (Short Trend):</strong> Sell at previous session low (lowd1) on stop</p>
        </div>
        
        <div class="section">
            <h2>üö™ Conditions de Sortie</h2>
            <p><strong>Normal Exits:</strong>
‚Ä¢ Maximum days in trade: 6 days (forced market exit)
‚Ä¢ Stop loss, profit target, and breakeven management

<strong>Stop/Target Exits:</strong>
‚Ä¢ Stop loss: 1500 currency units
‚Ä¢ Profit target: 3750 currency units
‚Ä¢ Breakeven: 1800 currency units

<strong>Time Exits:</strong>
‚Ä¢ Trading window: 18:00 to 23:00
‚Ä¢ Pause period: 15:30 to 17:30 (no trading)
‚Ä¢ Maximum 6 days holding period</p>
        </div>
        
        <div class="header-grid">
            <div class="info-box">
                <strong>Stop Loss</strong>
                <ul class="analysis-list"><li>SetStopLoss(<strong>1500</strong>) = 1500 in <strong>currency</strong></li></ul>
            </div>
            <div class="info-box">
                <strong>Take Profit</strong>
                <ul class="analysis-list"><li>SetProfitTarget(<strong>3750</strong>) = 3750 in <strong>currency</strong></li></ul>
            </div>
            <div class="info-box">
                <strong>Exit On Close</strong>
                <span class="badge badge-no">NO</span>
            </div>
            <div class="info-box">
                <strong>Time Exit</strong>
                <span class="badge badge-yes">YES</span>
            </div>
        </div>
        
        <div class="section">
            <h2>üîß Patterns & Fonctions</h2>
            <div class="patterns-list"><span class="pattern-tag">PatternFast(41)</span><span class="pattern-tag">PatternFast(6)</span><span class="pattern-tag">PatternFast(152)</span><span class="pattern-tag">PatternFast(83)</span><span class="pattern-tag">PatternFast(35)</span><span class="pattern-tag">PatternFast(2)</span><span class="pattern-tag">PatternFast(26)</span><span class="pattern-tag">PatternFast(10)</span><span class="pattern-tag">UAPtnBase</span></div>
            <p><strong>Nombre de patterns:</strong> 8 PatternFast + UAPtnBase conditions per trade</p>
        </div>
        
        <div class='section'><h2>üîç D√©tails des Patterns</h2><p><strong>PatternFast(41):</strong> ((opend0-lowd0)&gt; ((opend1-lowd1)*0.5))
‚Ä¢ Meaning: Current bar&#39;s lower shadow &gt; 50% of previous bar&#39;s lower shadow
‚Ä¢ Indicates: Increased downside rejection/support
‚Ä¢ Trading use: Bullish reversal signal

<strong>PatternFast(6):</strong> body1d &gt; 0.5 * range1d
‚Ä¢ Meaning: Previous bar&#39;s body &gt; 50% of its range
‚Ä¢ Indicates: Strong directional move, low wick activity
‚Ä¢ Trading use: Momentum confirmation

<strong>PatternFast(152):</strong> true
‚Ä¢ Meaning: Always true condition
‚Ä¢ Indicates: No pattern restriction
‚Ä¢ Trading use: Allows all trades when used as positive filter

<strong>PatternFast(83):</strong> (highd0&gt;(highd1+highd1*0.5*0.01))
‚Ä¢ Meaning: Current high &gt; previous high + 0.5% of previous high
‚Ä¢ Indicates: Upward breakout/momentum
‚Ä¢ Trading use: Bullish continuation signal

<strong>PatternFast(35):</strong> ((highd0-opend0)&gt; ((highd1-opend1)*1.5))
‚Ä¢ Meaning: Current upper shadow &gt; 1.5x previous upper shadow
‚Ä¢ Indicates: Increased upside rejection/resistance
‚Ä¢ Trading use: Bearish reversal signal

<strong>PatternFast(2):</strong> body1d &lt; 0.25 * range1d
‚Ä¢ Meaning: Previous bar&#39;s body &lt; 25% of its range
‚Ä¢ Indicates: Indecision, high wick activity
‚Ä¢ Trading use: Reversal setup condition

<strong>PatternFast(26):</strong> body5d &lt; 0.75 * range5d
‚Ä¢ Meaning: 5-day body &lt; 75% of 5-day range
‚Ä¢ Indicates: Moderate consolidation
‚Ä¢ Trading use: Breakout preparation

<strong>PatternFast(10):</strong> body5d &lt; 0.25 * (highd5-lowd1)
‚Ä¢ Meaning: 5-day body &lt; 25% of high-to-low range
‚Ä¢ Indicates: Strong consolidation pattern
‚Ä¢ Trading use: Major breakout setup</p></div>
        
        <div class="section">
            <h2>‚≠ê Analyse Qualit√©</h2>
            <p><strong>STRENGTHS:</strong>
‚Ä¢ <strong>Dual-mode approach</strong> allows capture of both reversal and trend moves
‚Ä¢ <strong>Moving average filters</strong> provide market bias context
‚Ä¢ <strong>Session-based levels</strong> offer logical entry points
‚Ä¢ <strong>Multiple pattern filters</strong> increase trade selectivity
‚Ä¢ <strong>Comprehensive risk management</strong> with stop, target, and breakeven
‚Ä¢ <strong>Time-based controls</strong> limit exposure and overtrading
‚Ä¢ <strong>One trade per day limit</strong> prevents revenge trading

<strong>WEAKNESSES:</strong>
‚Ä¢ <strong>High complexity</strong> with 8+ pattern conditions may overfit
‚Ä¢ <strong>Contradictory signals</strong> (reversal + trend) may create confusion
‚Ä¢ <strong>Different MA periods</strong> for long/short bias could cause whipsaws
‚Ä¢ <strong>No trend direction confirmation</strong> beyond MA position
‚Ä¢ <strong>Pattern meanings unclear</strong> without UAPtnBase function definition
‚Ä¢ <strong>Fixed session times</strong> may not adapt to market regime changes

<strong>RISK MANAGEMENT:</strong>
‚Ä¢ <strong>Solid R:R ratio</strong> (2.5:1 profit target vs stop loss)
‚Ä¢ <strong>Position sizing</strong> controlled via MyContracts input
‚Ä¢ <strong>Maximum holding period</strong> prevents indefinite exposure
‚Ä¢ <strong>Daily trade limits</strong> control frequency

<strong>OVERALL:</strong>
<strong>Well-structured strategy</strong> with good risk controls but <strong>potentially over-optimized</strong>. The dual-mode approach is innovative but may create conflicting signals. <strong>Pattern complexity</strong> suggests possible curve-fitting. Would benefit from <strong>simplification</strong> and <strong>clearer trend definition</strong>.</p>
        </div>
        
        
        
        <h2>üíª Code Source</h2>
        <div class="code-block"><pre>//nq 30 minuti reversal+trend

array: ohlcValues[23](0);

input: sessionStartTimeC(1700),sessionEndTimeC(1600); 
Input: MyStartTrade(1800), MyEndTrade(2300);
input: Mystartpause(1530),myendpause(1730);
input: PtnLY(41), PtnLN(6), PtnLY_ext(152), PtnLN_ext(83), //optimization ranges: LY (1-41), LN (1-42), LY_ext (1-152), LN_ext (1-153)
	 PtnSY(35), PtnSN(2), PtnSY_ext(26), PtnSN_ext(10); //optimization ranges: SY (1-41), SN (1-42), SY_ext (1-152), SN_ext (1-153)
input: stoploss (1500), profittarget(3750),breakeven(1800);
input: max_day_in_trade(6);
Input: my_mediaL (300),my_mediaS(500);
input: MyContracts(1);

var: highd1 (0), lowd1 (0), IsStartOfSession(true), var_mediaL(0), var_mediaS(0) ;

IsStartOfSession = _OHLCMulti5(sessionStartTimeC, sessionEndTimeC, ohlcValues);
highd1 = ohlcvalues[5]; lowd1 = ohlcvalues[6];

var: ok_time(false);   
var: DaysInTrade(0);

ok_time= tw(MyStartTrade,MyEndTrade) and (t&lt;MyStartPause or t&gt;myendpause) ;

var_mediaL=AverageFC(close, my_mediaL);
var_mediaS=AverageFC(close, my_mediaS);

if ok_time and close &gt; var_mediaL then begin

	if mp=0 and tradestoday(date)=0 and PatternFast(PtnLY_ext, ohlcValues) and PatternFast(PtnLN_ext, ohlcValues)=False and
		UAPtnBase(PtnLY,ohlcvalues) and UAPtnBase(PtnLN,ohlcvalues)=false 
		then buy(&quot;LR&quot;) MyContracts contracts next bar lowd1 limit;  //long reveriting

	if mp=0 and tradestoday(date)=0 and PatternFast(PtnLY_ext, ohlcValues) and PatternFast(PtnLN_ext, ohlcValues)=False and 
		UAPtnBase(PtnLY,ohlcvalues) and UAPtnBase(PtnLN,ohlcvalues)=false 
		then buy (&quot;LT&quot;) MyContracts contracts next bar highd1 stop;//long trend
end;

if ok_time and close&lt; var_mediaS then begin

	If mp=0 and tradestoday(date)=0 and PatternFast(PtnSY_ext, ohlcValues) and PatternFast(PtnSN_ext, ohlcValues)=False and 
		UAPtnBase(PtnSY,ohlcvalues) and UAPtnBase(PtnSN,ohlcvalues)=false 
		then sellshort (&quot;SR&quot;) MyContracts contracts next bar highd1 limit; //short reverting

	If mp=0 and tradestoday(date)=0 and PatternFast(PtnSY_ext, ohlcValues) and PatternFast(PtnSN_ext, ohlcValues)=False and 
		UAPtnBase(PtnSY,ohlcvalues) and UAPtnBase(PtnSN,ohlcvalues)=false 
		then sellshort (&quot;ST&quot;) MyContracts contracts next bar lowd1 stop; //short trend

end;

if date &lt;&gt; date[1] and  marketposition&lt;&gt;0 then DaysInTrade = DaysInTrade+1 ; 
if marketposition=0 then DaysInTrade = 0;
if DaysInTrade &gt; max_day_in_trade and max_day_in_trade&lt;&gt;0 then begin
sell next bar market;
buytocover next bar at market;
end;

setstopcontract;

if stoploss&gt;0 then setstoploss (stoploss);
if profittarget&gt;0 then setprofittarget (profittarget);
if breakeven&gt;0 then setbreakeven (breakeven);

//if date= 1230414 then print(lowd1,   &quot;  &quot;, highd1); 


//TITAN FAST EXPORT
input: TitanExportMode(0);
var: bin(0);
If TitanExportMode=1 then bin = writedailiesCTitanReports(1100101, TitanExportMode);
</pre></div>
        
        <p style="margin-top: 20px; color: #7f8c8d; font-size: 0.9em;">
            G√©n√©r√© le 2025-11-28 18:02 | 
            Hash: f06ff1b90fb6...
        </p>
    </div>
</body>
</html>