<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOP_UA_400_ES_15____1440 - Strategy Analysis</title>
    
    <style>
        :root {
            --primary: #3498db;
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
            --dark: #2c3e50;
            --light: #ecf0f1;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
        }
        
        .back-link:hover {
            text-decoration: underline;
        }
        
        h1 {
            color: var(--dark);
            border-bottom: 3px solid var(--primary);
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        h2 {
            color: #34495e;
            margin-top: 30px;
            margin-bottom: 15px;
            border-left: 4px solid var(--primary);
            padding-left: 15px;
        }
        
        .header-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .info-box {
            background: var(--light);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--primary);
        }
        
        .info-box strong {
            display: block;
            color: var(--dark);
            margin-bottom: 5px;
            font-size: 0.9em;
        }
        
        .badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            color: white;
            font-size: 0.85em;
            font-weight: 500;
        }
        
        .badge-yes {
            background: var(--success);
        }
        
        .badge-no {
            background: #95a5a6;
        }
        
        .score {
            font-size: 1.5em;
            font-weight: bold;
        }
        
        .score-high {
            color: var(--success);
        }
        
        .score-medium {
            color: var(--warning);
        }
        
        .score-low {
            color: var(--danger);
        }
        
        .section {
            margin: 25px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .analysis-list {
            margin: 10px 0 10px 20px;
        }
        
        .analysis-list li {
            margin: 8px 0;
        }
        
        .code-block {
            background: #282c34;
            color: #abb2bf;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.5;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .patterns-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 10px 0;
        }
        
        .pattern-tag {
            background: var(--light);
            padding: 5px 10px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.9em;
        }
        
        .links-section {
            margin-top: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
            color: white;
        }
        
        .links-section a {
            color: white;
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            .header-grid {
                grid-template-columns: 1fr;
            }
            
            body {
                padding: 10px;
            }
            
            .container {
                padding: 15px;
            }
        }
    </style>
    
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">‚Üê Retour √† la liste</a>
        
        <h1>üìä TOP_UA_400_ES_15____1440</h1>
        
        <div class="header-grid">
            <div class="info-box">
                <strong>Type</strong>
                <span class="badge" style="background-color: #27ae60">TREND_FOLLOWING</span>
            </div>
            <div class="info-box">
                <strong>Sous-type</strong>
                <span>MA_Crossover</span>
            </div>
            <div class="info-box">
                <strong>Score Qualit√©</strong>
                <span class="score score-high">8/10</span>
            </div>
            <div class="info-box">
                <strong>Score Complexit√©</strong>
                <span class="score score-high">7/10</span>
            </div>
        </div>
        
        <div class="section">
            <h2>üìù R√©sum√©</h2>
            <p>A <strong>long-only trend following strategy</strong> on the S&amp;P 500 that uses <strong>US bond performance as a filter</strong>. The strategy only enters when bonds close above their 14-day close AND specific candlestick patterns are present. This follows Larry Williams&#39; approach of using <strong>inter-market analysis</strong> between bonds and equities.</p>
        </div>
        
        <div class="section">
            <h2>üéØ Conditions d'Entr√©e</h2>
            <p><strong>LONG Entries:</strong>
‚Ä¢ Bond filter: Close data2 &gt; Close[14] data2 (US bonds above 14-day close)
‚Ä¢ Pattern condition: PatternFast(41) = TRUE (lower shadow expansion vs previous day)
‚Ä¢ Pattern exclusion: PatternFast(36) = FALSE (no upper shadow expansion)
‚Ä¢ Pattern exclusion: PatternFast(68) = FALSE (not a down close)
‚Ä¢ Only one entry per session allowed
‚Ä¢ Entry at market next bar

<strong>SHORT Entries:</strong>
‚Ä¢ None - long-only strategy</p>
        </div>
        
        <div class="section">
            <h2>üö™ Conditions de Sortie</h2>
            <p><strong>Normal Exits:</strong>
‚Ä¢ Maximum days in trade: 9 days
‚Ä¢ Exit on close after max days reached at 15:30

<strong>Stop/Target Exits:</strong>
‚Ä¢ Stop loss: 2000 in currency
‚Ä¢ Take profit: 8000 in currency

<strong>Dynamic Trailing Exit:</strong>
‚Ä¢ ATR-based trailing stop when True Range &gt; 1.9 * ATR(120)
‚Ä¢ Activates after 2500 currency profit
‚Ä¢ Trails at 60% retracement from max profit

<strong>Time Exits:</strong>
‚Ä¢ Session-based exit at 15:30 if max days reached</p>
        </div>
        
        <div class="header-grid">
            <div class="info-box">
                <strong>Stop Loss</strong>
                <ul class="analysis-list"><li>SetStopLoss(<strong>2000</strong>) = 2000 in <strong>currency</strong></li></ul>
            </div>
            <div class="info-box">
                <strong>Take Profit</strong>
                <ul class="analysis-list"><li>SetProfitTarget(<strong>8000</strong>) = 8000 in <strong>currency</strong></li></ul>
            </div>
            <div class="info-box">
                <strong>Exit On Close</strong>
                <span class="badge badge-yes">YES</span>
            </div>
            <div class="info-box">
                <strong>Time Exit</strong>
                <span class="badge badge-yes">YES</span>
            </div>
        </div>
        
        <div class="section">
            <h2>üîß Patterns & Fonctions</h2>
            <div class="patterns-list"><span class="pattern-tag">PatternFast(41)</span><span class="pattern-tag">PatternFast(36)</span><span class="pattern-tag">PatternFast(68)</span><span class="pattern-tag">_OHLCMulti5</span><span class="pattern-tag">AvgTrueRange(120)</span></div>
            <p><strong>Nombre de patterns:</strong> 3 main patterns plus ATR trailing logic</p>
        </div>
        
        <div class='section'><h2>üîç D√©tails des Patterns</h2><p><strong>PatternFast(41):</strong> ((opend0-lowd0) &gt; ((opend1-lowd1)*0.5))
‚Ä¢ Meaning: Today&#39;s lower shadow &gt; 50% of yesterday&#39;s lower shadow
‚Ä¢ Indicates: Increased buying pressure at lows
‚Ä¢ Trading use: Bullish reversal/continuation signal

<strong>PatternFast(36):</strong> ((highd0-opend0) &gt; ((highd1-opend1)*2))
‚Ä¢ Meaning: Today&#39;s upper shadow &gt; 200% of yesterday&#39;s upper shadow
‚Ä¢ Indicates: Strong selling pressure at highs
‚Ä¢ Trading use: Bearish rejection pattern (excluded from longs)

<strong>PatternFast(68):</strong> (closed1 &lt; closed2)
‚Ä¢ Meaning: Previous close below close 2 days ago
‚Ä¢ Indicates: Downward price movement
‚Ä¢ Trading use: Bearish momentum (excluded from longs)</p></div>
        
        <div class="section">
            <h2>‚≠ê Analyse Qualit√©</h2>
            <p><strong>STRENGTHS:</strong>
‚Ä¢ <strong>Multi-market approach</strong> using bond/equity correlation
‚Ä¢ <strong>Comprehensive risk management</strong> with multiple exit types
‚Ä¢ <strong>Dynamic trailing stop</strong> adapts to volatility
‚Ä¢ <strong>Pattern-based entry</strong> adds discretionary element
‚Ä¢ <strong>Time-based limits</strong> prevent overexposure

<strong>WEAKNESSES:</strong>
‚Ä¢ <strong>Long-only strategy</strong> vulnerable in bear markets
‚Ä¢ <strong>Complex pattern logic</strong> may be curve-fitted
‚Ä¢ <strong>Multiple exit conditions</strong> could conflict
‚Ä¢ <strong>No position sizing</strong> based on volatility

<strong>RISK MANAGEMENT:</strong>
‚Ä¢ <strong>Excellent stop loss</strong> at 2000 currency units
‚Ä¢ <strong>Strong profit target</strong> at 4:1 reward/risk ratio
‚Ä¢ <strong>Maximum holding period</strong> limits exposure
‚Ä¢ <strong>Trailing stop</strong> protects large profits

<strong>OVERALL:</strong>
A <strong>well-structured trend following system</strong> with sophisticated risk management. The <strong>Larry Williams bond filter</strong> adds valuable market regime awareness. The <strong>pattern combinations</strong> may be over-optimized, but the <strong>multiple exit strategies</strong> provide robust downside protection.</p>
        </div>
        
        
        
        <h2>üíª Code Source</h2>
        <div class="code-block"><pre>{**************************************************
Guidelines for Using Database Trading Systems

Unger Academy does not take any responsibility for the use of the algorithmic
trading systems available in our database. These systems are provided primarily
for educational purposes and as examples of algorithmic strategy development,
intended to inspire traders to create their own customized solutions.

We strongly discourage using these systems as-is without conducting thorough
analysis and making necessary adjustments to entry and exit criteria.

Additionally, we recommend carefully evaluating the liquidity of the market
where each system is applied. Trading in low-liquidity conditions can lead 
to poor execution and unfavorable pricing due to excessive slippage.
**************************************************}

//@ES 60min data1 + @US 1440min data2 exchange default TF MD
//Larry Williams - Trendfollowing su SP500 comprando in qualsiasi giorno in cui il bond (US) ha chiuso piu&#39; alto dela close di 14 giorni fa.

Inputs: MyContracts(1), maxDaysInTrade(9), FlatTime(1530), Stoploss(2000), Myprofit(8000);
Input: MyPtnLY(41), MyPtnLN(36), MyPtnLN2(68); //147 36 153

var: mesecorrente(0), EntryCount(0), daysintrade(0), OkTrade(true); 
var: IsStartOfSession(true);
array: ohlcValues[23](0);

var: sessionStartTimeC(1700),sessionEndTimeC(1600);
IsStartOfSession = _OHLCMulti5(sessionStartTimeC, sessionEndTimeC, ohlcValues);

//Variables//
if mp&lt;&gt;mp[1] and mp&lt;&gt;0 then daysintrade=1;
if isStartOfSession then begin
	if marketposition&lt;&gt;0 then daysintrade=daysintrade+1;	//Keep track of how many days the strategy has been in position
end;

If sessionlastbar then EntryCount = 0;

OkTrade = Close data2 &gt; Close[14] data2;

//Trade//
if EntryCount = 0 and OkTrade then begin
	if PatternFast(MyPtnLY, ohlcValues) and PatternFast(MyPtnLN, ohlcValues)=False and PatternFast(MyPtnLN2, ohlcValues)=False then buy MyContracts contracts next bar at market;
	EntryCount = EntryCount + 1;
end;
	
//POSITION MANAGEMENT
if (marketposition=1 and daysintrade&gt;=maxDaysInTrade and maxDaysInTrade&gt;0) then begin
	setexitonclose;
	if Time=FlatTime then begin
		if marketposition=1 then sell(&quot;MaxDays&quot;) next bar market;
		//if marketposition=-1 then buytocover(&quot;MaxDays&quot;) next bar market;
	end;
end;

//ATR Dynamic Trailing//
	input:
	TrATRPeriod(120),  //ATR calc period
	TrMult_ATR(1.9), //ATR multiplier
	TrTrigger(2500), // activate trailing if TrTrigger profit is reached 
	TrRetr(60); //max retracement % from max profit reached
	var: DistOpenRunup(0);

	DistOpenRunup = OpenEntryMaxProfitPerContract/bigpointvalue;
	condition7= TrueRange &gt;(AvgTrueRange(TrATRPeriod)[1])*TrMult_ATR;
	
	if condition7 then begin
		if OpenEntryMaxProfitPerContract&gt;=TrTrigger and barssinceentry&gt;1 then begin
		
			if marketposition=1 then sell(&quot;LX_trail&quot;) next bar entryprice + DistOpenRunup*(1-TrRetr/100) stop;
			//if marketposition=-1 then buytocover(&quot;SX_trail&quot;) next bar entryprice - DistOpenRunup*(1-TrRetr/100) stop;
		end;
	end;

//Exit//
setstopcontract;
if Stoploss&gt;0 then setstoploss(Stoploss);
if Myprofit&gt;0 then setprofittarget(Myprofit);

////////////////////////////////////////////////
input: TitanExportMode(0);
var: bin(0);
If TitanExportMode=1 then bin = writedailiesCTitanReports(1100101, TitanExportMode);


</pre></div>
        
        <p style="margin-top: 20px; color: #7f8c8d; font-size: 0.9em;">
            G√©n√©r√© le 2025-11-28 18:02 | 
            Hash: a39c99d5aea5...
        </p>
    </div>
</body>
</html>